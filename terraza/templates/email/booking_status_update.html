<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Actualizaci√≥n de reserva - Terraza Pineda</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        
        body {
            font-family: 'Inter', system-ui, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fefefe;
        }
        
        .header {
            background: linear-gradient(90deg, #f472b6, #fbbf24);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 24px 24px 0 0;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(270deg, #f472b6, #fbbf24, #34d399, #f472b6);
            animation: gradientShift 8s ease infinite;
            opacity: 0.3;
        }
        
        @keyframes gradientShift {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }
        
        .header h1 {
            font-weight: 800;
            font-size: 2.5rem;
            margin: 0;
            position: relative;
            z-index: 1;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            display: block;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }
        
        .content {
            background: rgba(255, 255, 255, 0.8);
            padding: 40px;
            border-radius: 0 0 24px 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(24px);
        }
        
        .content h2 {
            font-weight: 700;
            font-size: 1.5rem;
            color: #f472b6;
            margin-bottom: 20px;
        }
        
        .status-change {
            background: rgba(255, 255, 255, 0.9);
            padding: 24px;
            border-radius: 20px;
            margin: 24px 0;
            border-left: 4px solid #f472b6;
            box-shadow: 0 10px 15px -3px rgba(244, 114, 182, 0.1);
        }
        
        .status-change h3 {
            font-weight: 700;
            color: #f472b6;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            margin: 5px;
        }
        
        .status-pending { 
            background: linear-gradient(90deg, #fbbf24, #f59e0b);
            color: white;
        }
        .status-confirmed { 
            background: linear-gradient(90deg, #34d399, #10b981);
            color: white;
        }
        .status-cancelled { 
            background: linear-gradient(90deg, #ef4444, #dc2626);
            color: white;
        }
        .status-completed { 
            background: linear-gradient(90deg, #7c3aed, #6366f1);
            color: white;
        }
        
        .status-row {
            display: flex;
            align-items: center;
            margin: 12px 0;
            padding: 12px 0;
        }
        
        .status-label {
            font-weight: 600;
            color: #f472b6;
            margin-right: 12px;
            min-width: 120px;
        }
        
        .event-details {
            background: rgba(124, 58, 237, 0.05);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #7c3aed;
        }
        
        .event-details p {
            margin: 8px 0;
            font-weight: 500;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            font-size: 14px;
            color: #666;
            background: rgba(255, 255, 255, 0.4);
            padding: 24px;
            border-radius: 16px;
        }
        
        .brand-text {
            background: linear-gradient(90deg, #f472b6, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }
        
        .status-message {
            background: rgba(244, 114, 182, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            border: 1px solid rgba(244, 114, 182, 0.2);
        }
    </style>
</head>
<body>
    <div class="header">
        <svg class="logo" viewBox="0 0 1066 1196" xmlns="http://www.w3.org/2000/svg">
            <g transform="translate(0.000000,1196.000000) scale(0.100000,-0.100000)" fill="currentColor" stroke="none">
                <path d="M6603 11953 l-163 -3 0 -935 c0 -514 3 -935 8 -935 33 0 416 -65 509
                -86 254 -56 504 -158 689 -280 120 -79 301 -261 382 -383 165 -250 247 -504
                259 -796 11 -282 -48 -588 -154 -800 -157 -310 -382 -550 -639 -678 -238 -119
                -483 -166 -1174 -222 -173 -14 -396 -34 -495 -45 -130 -14 -294 -21 -590 -25
                -371 -6 -424 -9 -560 -31 -1050 -174 -1487 -356 -1940 -809 -573 -572 -818
                -1345 -853 -2683 -5 -163 -6 -960 -4 -1769 l4 -1473 1119 0 1118 0 4 1623 c3
                1452 5 1639 21 1782 62 582 142 873 290 1063 176 224 455 335 961 382 66 6
                435 15 820 20 724 9 738 10 1100 60 1028 143 1598 343 2145 754 124 93 312
                275 413 401 721 894 980 2395 622 3596 -116 388 -322 784 -571 1097 -104 131
                -356 379 -481 475 -501 381 -1116 593 -1946 672 -142 13 -712 39 -727 33 -3
                -2 -78 -4 -167 -5z"/>
                <path d="M0 10995 l0 -955 920 0 920 0 2 -2282 c2 -1389 7 -2283 12 -2283 5 0
                86 120 180 266 94 147 198 299 230 338 78 96 250 258 380 359 348 273 620 402
                1236 583 113 34 215 67 227 75 l23 14 0 1475 0 1475 940 0 940 0 0 945 0 945
                -3005 0 -3005 0 0 -955z"/>
            </g>
        </svg>
        <h1>Actualizaci√≥n de reserva</h1>
    </div>
    
    <div class="content">
        <h2>Hola {{ user.first_name }},</h2>
        
        <p>Te informamos que el estado de tu reserva ha sido actualizado.</p>
        
        <div class="status-change">
            <h3>Cambio de estado</h3>
            
            <p><strong>Reserva #{{ booking.id }}</strong></p>
            
            <div class="status-row">
                <span class="status-label">Estado anterior:</span>
                <span class="status-badge status-pending">{{ old_status }}</span>
            </div>
            
            <div class="status-row">
                <span class="status-label">Estado actual:</span>
                <span class="status-badge status-confirmed">{{ booking.get_status_display }}</span>
            </div>
            
            <div class="event-details">
                <p><strong>Detalles del evento:</strong></p>
                <p>üìÖ Fecha: {{ booking.start_datetime|date:"d/m/Y H:i" }}</p>
                <p>üìç Lugar: {{ booking.venue.name }}</p>
                {% if booking.package %}
                <p>üì¶ Paquete: {{ booking.package.title }}</p>
                {% endif %}
            </div>
        </div>
        
        <div class="status-message">
            {% if booking.status == 'confirmado' %}
            <p><strong>¬°Tu evento est√° confirmado!</strong> Nos vemos pronto en Terraza Pineda.</p>
            {% elif booking.status == 'cancelado' %}
            <p><strong>Tu evento ha sido cancelado.</strong> Si tienes preguntas sobre el reembolso, cont√°ctanos.</p>
            {% elif booking.status == 'completado' %}
            <p><strong>¬°Gracias por elegirnos!</strong> Esperamos que hayas disfrutado tu evento en Terraza Pineda.</p>
            {% else %}
            <p><strong>Tu reserva ha sido actualizada.</strong> Te mantendremos informado sobre cualquier cambio.</p>
            {% endif %}
        </div>
        
        <p>Si tienes alguna pregunta sobre este cambio, no dudes en contactarnos.</p>
        
        <p>Saludos,<br><strong class="brand-text">El equipo de Terraza Pineda</strong></p>
    </div>
    
    <div class="footer">
        <p>Este email fue enviado autom√°ticamente. Por favor no respondas a este mensaje.</p>
        <p class="brand-text">Terraza Pineda - Tu espacio perfecto para eventos especiales</p>
    </div>
</body>
</html>
